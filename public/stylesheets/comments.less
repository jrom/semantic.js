.comments {
  // Title
  .title {
    font-family: @titleFontFamily;
    font-size: 18px;
    color: darken(@textColor, 10%);
    margin-bottom: 20px;
  }

  // Comment item
  .comment {
    @avatarSize: 38px;
    .clearfix();
    margin-bottom: 20px;

    // Avatar
    .avatar {
      @size: @avatarSize;
      position: relative;
      float: left;
      margin: 5px 10px 0 -15px;
      img {
        .transition(opacity 0.1s ease-in);
        .square(@size);
        .border-radius(50%);
        opacity: 0.8;
      }
      &:after {
        content: '';
        .box-shadow(~'0 1px 0 rgba(255,255,255,1), inset 0 1px 4px rgba(0,0,0,0.8)');
        .square(@size);
        .border-radius(50%);
        position: absolute;
        left: 0;
      }
      &:hover {
        img {
          opacity: 1;
        }
      }
    }

    // Box
    .comment-box {
      @paddingSides: 15px;
      min-height: @avatarSize + 10px;
      background: white;
      .box-shadow(~"0 0px 3px rgba(0,0,0,0.1), 0 2px 2px rgba(0,0,0,0.05)");
      float: right;
      width: 500px;
      position: relative;

      // Shadows
      &:before, &:after {
        content: '';
        display: block;
        position: absolute;
        z-index: -2;
        width: 50%;
        height: 20%;
        .box-shadow(0 15px 6px rgba(0,0,0,0.08));
        bottom: 15px;
      }

      &:before {
        .rotate(-3deg);
        left: 5px;
      }
      &:after {
        .rotate(3deg);
        right: 5px;
      }

      > header {
        background: rgba(0,0,0,0.04);
        .box-shadow(~'inset 0 1px 0 rgba(255,255,255,0.7), 0 1px 1px rgba(0,0,0,0.1)');
        font-size: 14px;
        height: 26px;
        line-height: 26px;
        .author {
          color: #333;
          float: left;
          margin-left: @paddingSides;
          &:after {
            content: ':';
          }
        }
        .date {
          color: #ccc;
          float: right;
          margin-right: @paddingSides;
          font-size: 12px;
        }
      }

      .body {
        padding: 10px @paddingSides;
        font-size: 14px;
        min-height: 26px;
      }
    }
  }
  .login.button {
    display: inline-block;
    margin-left: 15px;
  }
}

.comment-form {
  .clearfix();

  &:before {
    content: '';
    .sprite(40px, 40px, 100px, 0);
    float: left;
    margin: 5px 0 0 -15px;
  }
  textarea {
    #gradient .vertical(rgba(0,0,0,0.03), rgba(0,0,0,0));
    .box-sizing(border-box);
    .box-shadow(~'0 1px 0 #fff, inset 0 1px 3px rgba(0,0,0,0.1)');
    float: right;
    width: 500px;
    border: 1px solid rgba(0,0,0,0.2);
    min-height: 80px;
    padding: 5px;
    resize: none;
    font-family: @textFontFamily;
    font-size: 14px;
    line-height: 1.6;

    &:focus {
      outline: none;
      border: 1px solid rgba(0,0,0,0.3);
    }
  }
  .send {
    float: right;
    margin-top: 5px;
  }
}
